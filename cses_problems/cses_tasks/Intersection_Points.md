![CSES](/logo.png?1) __

Login â€” __Dark mode

### CSES Problem Set

# Intersection Points

  * Task
  * Statistics

CSES - Intersection Points

  * **Time limit:** 1.00 s
  * **Memory limit:** 512 MB

Given $n$ horizontal and vertical line segments, your task is to calculate the
number of their intersection points.

You can assume that no parallel line segments intersect, and no endpoint of a
line segment is an intersection point.

# Input

The first input line has an integer $n$: the number of line segments.

Then there are $n$ lines describing the line segments. Each line has four
integers: $x_1$, $y_1$, $x_2$ and $y_2$: a line segment begins at point
$(x_1,y_1)$ and ends at point $(x_2,y_2)$.

# Output

Print the number of intersection points.

# Constraints

  * $1 \le n \le 10^5$
  * $-10^6 \le x_1 \le x_2 \le 10^6$
  * $-10^6 \le y_1 \le y_2 \le 10^6$
  * $(x_1,y_1) \neq (x_2,y_2)$

# Example

Input:

``` 3 2 3 7 3 3 1 3 5 6 2 6 6 ```

Output:

``` 2 ```

#### Additional Problems

... Tree TraversalsNetwork RenovationGraph GirthIntersection PointsInverse
InversionsMonotone SubsequencesString ReorderStack Weights...

* * *

